import{_ as c}from"./plugin-vue_export-helper-c27b6911.js";import{L as u,o as d,c as p,M as x,r as h,e as r,a as f}from"./app-3c0a5b93.js";import{N as _,d as i}from"./network-3abd1923.js";const g={name:"ResizeTextarea",props:{placeholder:{type:String,default:""},rows:{type:Number,default:2},cols:{type:Number,default:0},minHeight:{type:Number,default:50},maxHeight:{type:Number,default:null},value:{type:[String,Number],default:""},autoResize:{type:Boolean,default:!0}},emits:["update:output"],data(){return{height:"",content:"",isScrollEnabled:!1}},computed:{styles(){return{resize:this.autoResize?"none !important":"",padding:`5${this.unit}`,height:this.height,overflow:`${this.isScrollEnabled?"scroll":"hidden"} !important`}},unit(){return"px"}},watch:{value(e){this.content=e,this.resize()}},methods:{resize(){const e=this.$refs.textarea;this.height="auto !important",u(()=>{this.minHeight&&(this.height=`${e.scrollHeight<this.minHeight?this.minHeight:e.scrollHeight}${this.unit}`),this.maxHeight&&(e.scrollHeight>this.maxHeight?(this.height=`${this.maxHeight}${this.unit}`,this.isScrollEnabled=!0):this.isScrollEnabled=!1)})},handleInput(e){this.content=e.target.value,this.$emit("update:output",this.content),this.resize()}},created(){u(()=>{this.content=this.value,this.resize()})},mounted(){this.resize()}},v=["rows","cols","placeholder","value"];function w(e,l,a,m,s,t){return d(),p("textarea",{style:x(t.styles),ref:"textarea",rows:a.rows,cols:a.cols,placeholder:a.placeholder,wrap:"hard",value:s.content,onFocus:l[0]||(l[0]=(...n)=>t.resize&&t.resize(...n)),onInput:l[1]||(l[1]=(...n)=>t.handleInput&&t.handleInput(...n))},null,44,v)}const y=c(g,[["render",w],["__file","ResizeTextarea.vue"]]);const z={components:{ResizeTextarea:y,NetworkSetting:_},data(){return{placeholder:"Please enter your text here",textValue1:"",textValue2:"",channel1:null,channel2:null}},mounted(){this.channel1=i.createChannel("textValue1"),this.channel1.receive(e=>{this.textValue1=e}),this.channel2=i.createChannel("textValue2"),this.channel2.receive(e=>{this.textValue2=e})},methods:{textValue1Update(e){this.channel1.send("textValue2",e)},textValue2Update(e){this.channel2.send("textValue1",e)},networkTrigger({online:e,delay:l}){const a=parseInt(l);i.setDelay(a),i.setEnable(e)}}},V={class:"flex-list"};function H(e,l,a,m,s,t){const n=h("network-setting"),o=h("resize-textarea");return d(),p("div",null,[r(n,{onNetwork:t.networkTrigger},null,8,["onNetwork"]),f("div",V,[r(o,{class:"flex-list-item",placeholder:s.placeholder,rows:20,cols:40,maxHeight:150,value:s.textValue1,"onUpdate:output":t.textValue1Update},null,8,["placeholder","value","onUpdate:output"]),r(o,{class:"flex-list-item",placeholder:s.placeholder,rows:20,cols:40,maxHeight:150,value:s.textValue2,"onUpdate:output":t.textValue2Update},null,8,["placeholder","value","onUpdate:output"])])])}const S=c(z,[["render",H],["__file","Demo.vue"]]);export{S as default};
